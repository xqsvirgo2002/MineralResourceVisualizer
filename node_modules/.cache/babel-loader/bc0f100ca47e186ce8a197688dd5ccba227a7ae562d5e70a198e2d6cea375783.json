{"ast":null,"code":"import * as echarts from 'echarts';\nexport default {\n  name: 'WorldMap',\n  data() {\n    return {\n      selectedCountry: null,\n      mineralResources: []\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.loadMapAndData();\n    });\n  },\n  methods: {\n    methods: {\n      loadMapAndData() {\n        import('@/assets/world.js'); // 加载 world.js\n        import('@/assets/minerals_production.json') // 加载矿产数据\n        .then(mineralData => {\n          this.initMap(mineralData.default);\n        });\n      },\n      initMap(mineralData) {\n        var chart = echarts.init(document.getElementById('map'));\n        var option = {\n          series: [{\n            type: 'map',\n            map: 'world',\n            emphasis: {\n              label: {\n                show: true\n              }\n            }\n          }]\n        };\n        chart.setOption(option);\n        chart.on('click', params => {\n          if (params.componentType === 'series') {\n            this.selectedCountry = params.name;\n            this.mineralResources = mineralData[params.name] || [];\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["echarts","name","data","selectedCountry","mineralResources","mounted","$nextTick","loadMapAndData","methods","then","mineralData","initMap","default","chart","init","document","getElementById","option","series","type","map","emphasis","label","show","setOption","on","params","componentType"],"sources":["src/components/WorldMap.vue"],"sourcesContent":["<script>\nimport * as echarts from 'echarts';\n\nexport default {\n    name: 'WorldMap',\n    data() {\n        return {\n            selectedCountry: null,\n            mineralResources: []\n        };\n    },\n    mounted() {\n        this.$nextTick(() => {\n            this.loadMapAndData();\n        });\n    },\n    methods: {\n        methods: {\n            loadMapAndData() {\n                import('@/assets/world.js'); // 加载 world.js\n                import('@/assets/minerals_production.json') // 加载矿产数据\n                    .then(mineralData => {\n                        this.initMap(mineralData.default);\n                    });\n            },\n            initMap(mineralData) {\n                var chart = echarts.init(document.getElementById('map'));\n                var option = {\n                    series: [\n                        {\n                            type: 'map',\n                            map: 'world',\n                            emphasis: {\n                                label: {\n                                    show: true\n                                }\n                            }\n                        }\n                    ]\n                };\n\n                chart.setOption(option);\n\n                chart.on('click', params => {\n                    if (params.componentType === 'series') {\n                        this.selectedCountry = params.name;\n                        this.mineralResources = mineralData[params.name] || [];\n                    }\n                });\n            }\n        }\n    }\n    }\n</script>\n"],"mappings":"AACA,YAAAA,OAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,eAAA;MACAC,gBAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;MACA,KAAAC,cAAA;IACA;EACA;EACAC,OAAA;IACAA,OAAA;MACAD,eAAA;QACA;QACA;QAAA,CACAE,IAAA,CAAAC,WAAA;UACA,KAAAC,OAAA,CAAAD,WAAA,CAAAE,OAAA;QACA;MACA;MACAD,QAAAD,WAAA;QACA,IAAAG,KAAA,GAAAb,OAAA,CAAAc,IAAA,CAAAC,QAAA,CAAAC,cAAA;QACA,IAAAC,MAAA;UACAC,MAAA,GACA;YACAC,IAAA;YACAC,GAAA;YACAC,QAAA;cACAC,KAAA;gBACAC,IAAA;cACA;YACA;UACA;QAEA;QAEAV,KAAA,CAAAW,SAAA,CAAAP,MAAA;QAEAJ,KAAA,CAAAY,EAAA,UAAAC,MAAA;UACA,IAAAA,MAAA,CAAAC,aAAA;YACA,KAAAxB,eAAA,GAAAuB,MAAA,CAAAzB,IAAA;YACA,KAAAG,gBAAA,GAAAM,WAAA,CAAAgB,MAAA,CAAAzB,IAAA;UACA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
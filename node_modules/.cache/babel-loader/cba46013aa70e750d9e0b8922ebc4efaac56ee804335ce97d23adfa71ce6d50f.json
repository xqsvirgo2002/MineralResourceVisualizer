{"ast":null,"code":"import * as echarts from 'echarts';\nexport default {\n  name: 'GlobalMineralProduction',\n  data() {\n    return {\n      chartInstance: null,\n      chartData: null\n    };\n  },\n  mounted() {\n    this.loadChartData();\n  },\n  methods: {\n    loadChartData() {\n      import('@/assets/output.json').then(data => {\n        this.chartData = data.default;\n        this.initChart();\n      });\n    },\n    initChart() {\n      const chartDom = this.$refs.GlobalMineralProduction;\n      this.chartInstance = echarts.init(chartDom);\n      const options = {\n        tooltip: {\n          trigger: 'axis',\n          formatter: params => params[0].axisValue\n        },\n        legend: {\n          data: Object.keys(this.chartData),\n          orient: 'horizontal',\n          top: 'bottom'\n        },\n        xAxis: {\n          type: 'category',\n          data: this.getCategories()\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: this.getSeriesData()\n      };\n      this.chartInstance.setOption(options);\n    },\n    getCategories() {\n      const firstSheetData = this.chartData[Object.keys(this.chartData)[0]];\n      return firstSheetData.map(item => item.Country);\n    },\n    getSeriesData() {\n      return Object.keys(this.chartData).map(sheetName => ({\n        name: sheetName,\n        type: 'bar',\n        stack: 'total',\n        data: this.chartData[sheetName].map(item => item['2021'])\n      }));\n    }\n  }\n};","map":{"version":3,"names":["echarts","name","data","chartInstance","chartData","mounted","loadChartData","methods","then","default","initChart","chartDom","$refs","GlobalMineralProduction","init","options","tooltip","trigger","formatter","params","axisValue","legend","Object","keys","orient","top","xAxis","type","getCategories","yAxis","series","getSeriesData","setOption","firstSheetData","map","item","Country","sheetName","stack"],"sources":["src/components/GlobalMineralProduction.vue"],"sourcesContent":["<template>\n    <div class=\"chart-container\">\n      <h1>Global Mineral Production</h1>\n      <div ref=\"GlobalMineralProduction\" class=\"chart\"></div>\n    </div>\n  </template>\n  \n  <script>\n  import * as echarts from 'echarts';\n  \n  export default {\n    name: 'GlobalMineralProduction',\n    data() {\n      return {\n        chartInstance: null,\n        chartData: null\n      };\n    },\n    mounted() {\n      this.loadChartData();\n    },\n    methods: {\n      loadChartData() {\n        import('@/assets/output.json').then(data => {\n          this.chartData = data.default;\n          this.initChart();\n        });\n      },\n      initChart() {\n        const chartDom = this.$refs.GlobalMineralProduction;\n        this.chartInstance = echarts.init(chartDom);\n  \n        const options = {\n          tooltip: {\n            trigger: 'axis',\n            formatter: params => params[0].axisValue\n          },\n          legend: {\n            data: Object.keys(this.chartData),\n            orient: 'horizontal',\n            top: 'bottom'\n          },\n          xAxis: {\n            type: 'category',\n            data: this.getCategories()\n          },\n          yAxis: {\n            type: 'value'\n          },\n          series: this.getSeriesData()\n        };\n  \n        this.chartInstance.setOption(options);\n      },\n      getCategories() {\n        const firstSheetData = this.chartData[Object.keys(this.chartData)[0]];\n        return firstSheetData.map(item => item.Country);\n      },\n      getSeriesData() {\n        return Object.keys(this.chartData).map(sheetName => ({\n          name: sheetName,\n          type: 'bar',\n          stack: 'total',\n          data: this.chartData[sheetName].map(item => item['2021'])\n        }));\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  .chart-container {\n    padding: 10px;\n  }\n  \n  .chart {\n    width: 100%;\n    height: 500px; /* 调整高度以适应数据显示 */\n    margin-top: 20px;\n  }\n  </style>"],"mappings":"AAQA,YAAAA,OAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,aAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAD,cAAA;MACA,+BAAAE,IAAA,CAAAN,IAAA;QACA,KAAAE,SAAA,GAAAF,IAAA,CAAAO,OAAA;QACA,KAAAC,SAAA;MACA;IACA;IACAA,UAAA;MACA,MAAAC,QAAA,QAAAC,KAAA,CAAAC,uBAAA;MACA,KAAAV,aAAA,GAAAH,OAAA,CAAAc,IAAA,CAAAH,QAAA;MAEA,MAAAI,OAAA;QACAC,OAAA;UACAC,OAAA;UACAC,SAAA,EAAAC,MAAA,IAAAA,MAAA,IAAAC;QACA;QACAC,MAAA;UACAnB,IAAA,EAAAoB,MAAA,CAAAC,IAAA,MAAAnB,SAAA;UACAoB,MAAA;UACAC,GAAA;QACA;QACAC,KAAA;UACAC,IAAA;UACAzB,IAAA,OAAA0B,aAAA;QACA;QACAC,KAAA;UACAF,IAAA;QACA;QACAG,MAAA,OAAAC,aAAA;MACA;MAEA,KAAA5B,aAAA,CAAA6B,SAAA,CAAAjB,OAAA;IACA;IACAa,cAAA;MACA,MAAAK,cAAA,QAAA7B,SAAA,CAAAkB,MAAA,CAAAC,IAAA,MAAAnB,SAAA;MACA,OAAA6B,cAAA,CAAAC,GAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAC,OAAA;IACA;IACAL,cAAA;MACA,OAAAT,MAAA,CAAAC,IAAA,MAAAnB,SAAA,EAAA8B,GAAA,CAAAG,SAAA;QACApC,IAAA,EAAAoC,SAAA;QACAV,IAAA;QACAW,KAAA;QACApC,IAAA,OAAAE,SAAA,CAAAiC,SAAA,EAAAH,GAAA,CAAAC,IAAA,IAAAA,IAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
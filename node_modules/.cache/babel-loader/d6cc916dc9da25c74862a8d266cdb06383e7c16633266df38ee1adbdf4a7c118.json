{"ast":null,"code":"import * as echarts from 'echarts';\nexport default {\n  name: 'WorldMap',\n  data() {\n    return {\n      selectedCountry: null,\n      mineralResources: []\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      import('@/assets/world.js'); // 加载 world.js\n      import('@/assets/minerals_production.json') // 加载矿产数据\n      .then(mineralData => {\n        this.initMap(mineralData.default);\n      });\n    });\n  },\n  methods: {\n    initMap(mineralData) {\n      var chart = echarts.init(document.getElementById('map'));\n      var option = {\n        series: [{\n          type: 'map',\n          map: 'world',\n          emphasis: {\n            label: {\n              show: true\n            }\n          }\n        }]\n      };\n      chart.setOption(option);\n      chart.on('click', params => {\n        if (params.componentType === 'series') {\n          this.selectedCountry = params.name;\n          this.mineralResources = mineralData[params.name] || [];\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["echarts","name","data","selectedCountry","mineralResources","mounted","$nextTick","then","mineralData","initMap","default","methods","chart","init","document","getElementById","option","series","type","map","emphasis","label","show","setOption","on","params","componentType"],"sources":["src/components/WorldMap.vue"],"sourcesContent":["<script>\nimport * as echarts from 'echarts';\n\nexport default {\n  name: 'WorldMap',\n  data() {\n    return {\n      selectedCountry: null,\n      mineralResources: []\n    };\n  },\n  mounted() {\n  this.$nextTick(() => {\n    import('@/assets/world.js'); // 加载 world.js\n    import('@/assets/minerals_production.json') // 加载矿产数据\n      .then(mineralData => {\n        this.initMap(mineralData.default);\n      });\n  });\n},\n  methods: {\n    initMap(mineralData) {\n      var chart = echarts.init(document.getElementById('map'));\n      var option = {\n        series: [\n          {\n            type: 'map',\n            map: 'world',\n            emphasis: {\n              label: {\n                show: true\n              }\n            }\n          }\n        ]\n      };\n\n      chart.setOption(option);\n\n      chart.on('click', params => {\n        if (params.componentType === 'series') {\n          this.selectedCountry = params.name;\n          this.mineralResources = mineralData[params.name] || [];\n        }\n      });\n    }\n  }\n}\n</script>\n"],"mappings":"AACA,YAAAA,OAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,eAAA;MACAC,gBAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;MACA;MACA;MAAA,CACAC,IAAA,CAAAC,WAAA;QACA,KAAAC,OAAA,CAAAD,WAAA,CAAAE,OAAA;MACA;IACA;EACA;EACAC,OAAA;IACAF,QAAAD,WAAA;MACA,IAAAI,KAAA,GAAAZ,OAAA,CAAAa,IAAA,CAAAC,QAAA,CAAAC,cAAA;MACA,IAAAC,MAAA;QACAC,MAAA,GACA;UACAC,IAAA;UACAC,GAAA;UACAC,QAAA;YACAC,KAAA;cACAC,IAAA;YACA;UACA;QACA;MAEA;MAEAV,KAAA,CAAAW,SAAA,CAAAP,MAAA;MAEAJ,KAAA,CAAAY,EAAA,UAAAC,MAAA;QACA,IAAAA,MAAA,CAAAC,aAAA;UACA,KAAAvB,eAAA,GAAAsB,MAAA,CAAAxB,IAAA;UACA,KAAAG,gBAAA,GAAAI,WAAA,CAAAiB,MAAA,CAAAxB,IAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
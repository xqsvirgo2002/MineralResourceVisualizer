{"ast":null,"code":"import * as echarts from 'echarts';\nexport default {\n  name: 'WorldMap',\n  data() {\n    return {\n      selectedCountry: null,\n      mineralResources: []\n    };\n  },\n  mounted() {\n    // 动态引入 world.js 文件和 minerals_production.json 数据集\n    Promise.all([import('@/assets/world.js'), import('@/assets/minerals_production.json') // 确保路径正确\n    ]).then(([_, mineralData]) => {\n      this.initMap(mineralData.default);\n    });\n  },\n  methods: {\n    initMap(mineralData) {\n      var chart = echarts.init(document.getElementById('map'));\n      var option = {\n        series: [{\n          type: 'map',\n          map: 'world',\n          emphasis: {\n            label: {\n              show: true\n            }\n          }\n        }]\n      };\n      chart.setOption(option);\n      chart.on('click', params => {\n        if (params.componentType === 'series') {\n          this.selectedCountry = params.name;\n          this.mineralResources = mineralData[params.name] || [];\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["echarts","name","data","selectedCountry","mineralResources","mounted","Promise","all","then","_","mineralData","initMap","default","methods","chart","init","document","getElementById","option","series","type","map","emphasis","label","show","setOption","on","params","componentType"],"sources":["src/components/WorldMap.vue"],"sourcesContent":["<template>\n  <div class=\"map-container\">\n    <div id=\"map\"></div>\n    <div v-if=\"selectedCountry\">\n      <h2>{{ selectedCountry }}的矿产资源</h2>\n      <ul>\n        <li v-for=\"resource in mineralResources\" :key=\"resource.Minerals\">\n          {{ resource.Minerals }}: {{ resource.Production }}\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as echarts from 'echarts';\n\nexport default {\n  name: 'WorldMap',\n  data() {\n    return {\n      selectedCountry: null,\n      mineralResources: []\n    };\n  },\n  mounted() {\n    // 动态引入 world.js 文件和 minerals_production.json 数据集\n    Promise.all([\n      import('@/assets/world.js'),\n      import('@/assets/minerals_production.json') // 确保路径正确\n    ]).then(([_, mineralData]) => {\n      this.initMap(mineralData.default);\n    });\n  },\n  methods: {\n    initMap(mineralData) {\n      var chart = echarts.init(document.getElementById('map'));\n      var option = {\n        series: [\n          {\n            type: 'map',\n            map: 'world',\n            emphasis: {\n              label: {\n                show: true\n              }\n            }\n          }\n        ]\n      };\n\n      chart.setOption(option);\n\n      chart.on('click', params => {\n        if (params.componentType === 'series') {\n          this.selectedCountry = params.name;\n          this.mineralResources = mineralData[params.name] || [];\n        }\n      });\n    }\n  }\n}\n</script>\n  \n  <style>\n  .map-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 70vh;\n  }\n  \n  #map {\n    width: 1000px;\n    height: 800px;\n  }\n  </style>\n  "],"mappings":"AAeA,YAAAA,OAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,eAAA;MACAC,gBAAA;IACA;EACA;EACAC,QAAA;IACA;IACAC,OAAA,CAAAC,GAAA,EACA,6BACA;IAAA,CACA,EAAAC,IAAA,GAAAC,CAAA,EAAAC,WAAA;MACA,KAAAC,OAAA,CAAAD,WAAA,CAAAE,OAAA;IACA;EACA;EACAC,OAAA;IACAF,QAAAD,WAAA;MACA,IAAAI,KAAA,GAAAd,OAAA,CAAAe,IAAA,CAAAC,QAAA,CAAAC,cAAA;MACA,IAAAC,MAAA;QACAC,MAAA,GACA;UACAC,IAAA;UACAC,GAAA;UACAC,QAAA;YACAC,KAAA;cACAC,IAAA;YACA;UACA;QACA;MAEA;MAEAV,KAAA,CAAAW,SAAA,CAAAP,MAAA;MAEAJ,KAAA,CAAAY,EAAA,UAAAC,MAAA;QACA,IAAAA,MAAA,CAAAC,aAAA;UACA,KAAAzB,eAAA,GAAAwB,MAAA,CAAA1B,IAAA;UACA,KAAAG,gBAAA,GAAAM,WAAA,CAAAiB,MAAA,CAAA1B,IAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
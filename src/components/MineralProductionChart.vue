<template>
    <div>
        <el-row :gutter="20">
            <el-col :span="24">
                <el-card class="chart-card">
                    <div ref="chart" class="chart"></div>
                </el-card>
            </el-col>
        </el-row>
        <el-row :gutter="20">
            <el-col :span="24">
                <el-card class="analysis-card">
                    <div class="analysis-text">
                        从图表可以看出，自1984年以来，亚洲的矿产产量经历了显著的增长，特别是在2000年后增速加快，这可能与该地区快速的经济发展有关。与此相反，其他地区如非洲和拉丁美洲虽然也有所增长，但速度较慢。欧洲和北美的产量相对稳定，反映了这些成熟经济体的稳定资源需求。这些趋势突显了全球矿产资源开发的不均衡性，以及可持续管理资源的重要性。
                    </div>
                </el-card>
            </el-col>
        </el-row>
    </div>
</template>
  
<script>
import * as echarts from 'echarts';

export default {
    name: 'MineralProductionChart',
    data() {
        return {
            chart: null,
            // 时间序列数据，根据实际数据进行更新
            timeSeriesData: {
                'Africa': [491277838,
                    553611145,
                    560389452,
                    558162223,
                    578429601,
                    611700950,
                    629191234,
                    645653677,
                    631548263,
                    641442391,
                    652593419,
                    686972850,
                    680883877,
                    713277901,
                    720075978,
                    732165377,
                    765733161,
                    773456477,
                    781715961,
                    833951331,
                    890333467,
                    944557106,
                    957844493,
                    975719824,
                    996725521,
                    963712118,
                    1009671531,
                    929029242,
                    995271415,
                    965281735,
                    947167188,
                    940173705,
                    914921521,
                    962927752,
                    975823188,
                    983718193,
                    891827710,
                    933736448],
                'Asia': [3621311795,
                    3739473268,
                    3967356364,
                    4077926753,
                    4279286059,
                    4535660970,
                    4575870072,
                    4532820491,
                    4552094570,
                    4617161822,
                    4593040086,
                    4820268566,
                    4880406639,
                    4969566025,
                    4967282473,
                    4929839618,
                    5051128647,
                    5170247983,
                    5355794087,
                    5970984174,
                    6538112535,
                    7069404045,
                    7554008909,
                    7955646173,
                    8290139389,
                    8324937462,
                    8921790786,
                    9530704600,
                    9736632318,
                    9858894781,
                    9803335402,
                    9820601800,
                    9639168360,
                    9907381544,
                    10350201462,
                    10590686886,
                    10303432479,
                    10803723087],
                'Europe': [2343687167,
                    2434569522,
                    2471557140,
                    2485274829,
                    2472914295,
                    2424486765,
                    2260313985,
                    2123060349,
                    1988491302,
                    1874985573,
                    1826668411,
                    1833548690,
                    1832372740,
                    1827942589,
                    1747147595,
                    1721201321,
                    1755973081,
                    1753407523,
                    1777355518,
                    1778623013,
                    1788545139,
                    1749879233,
                    1728775009,
                    1717633543,
                    1700370530,
                    1606084844,
                    1621739125,
                    1638512869,
                    1618131898,
                    1574048804,
                    1509058627,
                    1487186048,
                    1449203754,
                    1458765377,
                    1417652999,
                    1277179094,
                    1174117284,
                    1212291826],
                'Latin America': [562918109,
                    566395211,
                    573958486,
                    563610024,
                    591044007,
                    613513369,
                    646514806,
                    663144692,
                    670905309,
                    686940025,
                    720466025,
                    746479446,
                    777575760,
                    814134583,
                    887199743,
                    879241004,
                    908631865,
                    916258957,
                    922162854,
                    955349598,
                    1033685411,
                    1068298139,
                    1105968273,
                    1131860494,
                    1122207082,
                    1065789961,
                    1128727828,
                    1170779425,
                    1184530000,
                    1171457846,
                    1203104664,
                    1196135887,
                    1171648978,
                    1159197977,
                    1110203849,
                    1039705985,
                    956913134,
                    983848976],
                'North America': [2059724620,
                    2071063053,
                    2027980977,
                    2072705805,
                    2141270229,
                    2164117026,
                    2203364391,
                    2184274275,
                    2181844083,
                    2143538949,
                    2262153843,
                    2273227243,
                    2316670697,
                    2351638894,
                    2356329541,
                    2327927155,
                    2324941284,
                    2357596851,
                    2322570961,
                    2283577245,
                    2355162356,
                    2343744813,
                    2381080452,
                    2371567898,
                    2403886981,
                    2295422815,
                    2355466902,
                    2432757654,
                    2440184070,
                    2494737892,
                    2644933240,
                    2632654028,
                    2444041926,
                    2576204452,
                    2767142806,
                    2866382131,
                    2652404762,
                    2742224818],
                'Oceania': [254010287,
                    280261932,
                    292796449,
                    322233565,
                    304067006,
                    332116920,
                    347898842,
                    362385522,
                    374707983,
                    386115067,
                    392630850,
                    415408333,
                    429772081,
                    462884590,
                    477138947,
                    484477447,
                    515493083,
                    542815415,
                    560044299,
                    573950955,
                    597642134,
                    629117525,
                    643672822,
                    675887993,
                    710182569,
                    730666086,
                    801950738,
                    818091867,
                    866313912,
                    960974497,
                    1067775345,
                    1138200465,
                    1167849780,
                    1196407350,
                    1210489104,
                    1259950122,
                    1249275334,
                    1221074462],
                'Total': [9332929816,
                    9645374131,
                    9894038868,
                    10079913199,
                    10367011197,
                    10681596000,
                    10663153330,
                    10511339006,
                    10399591510,
                    10350183827,
                    10447552634,
                    10775905128,
                    10917681794,
                    11139444582,
                    11155174277,
                    11074851922,
                    11321901121,
                    11513783206,
                    11719643680,
                    12396436316,
                    13203481042,
                    13805000861,
                    14371349958,
                    14828315925,
                    15223512072,
                    14986613286,
                    15839346910,
                    16519875657,
                    16841063613,
                    17025395555,
                    17175374466,
                    17214951933,
                    16786834319,
                    17260884452,
                    17831513408,
                    18017622411,
                    17227970703,
                    17896899617]
            }
        };
    },
    mounted() {
        this.chart = echarts.init(this.$refs.chart);
        this.initializeChart();
    },
    methods: {
        initializeChart() {
            const option = {
                title: {
                    text: '矿产总产量时间序列图',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'axis'
                },
                legend: {
                    data: Object.keys(this.timeSeriesData),
                    bottom: '10%' // 调整这里的值来移动图例
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%', // 确保底部有足够空间放置图例
                    containLabel: true
                },
                xAxis: {
                    type: 'category',
                    boundaryGap: false,
                    data: ['1984', '1985', '1986', '1987', '1988', '1989', '1990', '1991', '1992', '1993', '1994', '1995', '1996', '1997', '1998', '1999', '2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021'] // 省略中间年份以节省空间
                },
                yAxis: {
                    type: 'value'
                },
                series: Object.keys(this.timeSeriesData).map(continent => ({
                    name: continent,
                    type: 'line',
                    data: this.timeSeriesData[continent]
                }))
            };

            this.chart.setOption(option);
        }
    }
};
</script>
  
<style scoped>
.chart-card {
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
  margin-bottom: 20px;
}

.chart {
  width: 100%;
  height: 400px; /* 或您期望的高度 */
}

.analysis-card {
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
  margin-top: 20px;
  padding: 20px;
  background-color: #f7f7f7;
}

.analysis-text {
  font-size: 16px; /* 增大字号 */
  line-height: 1.8;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* 更换为可读性强的字体 */
  text-align: justify;
}
</style>
  